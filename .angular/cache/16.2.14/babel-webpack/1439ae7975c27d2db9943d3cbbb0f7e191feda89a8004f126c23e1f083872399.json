{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewEncapsulation } from '@angular/core';\nlet SearchComponent = class SearchComponent {\n  constructor(router, activatedRoute) {\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n  }\n  ngOnInit() {\n    window.scrollTo(0, 0);\n    /*\n    this.activatedRoute.params.subscribe((params: Params) => {\n      //this.searchTerm = params.searchTerm;\n      //console.log(params);\n    });\n    */\n    this.activatedRoute.data.subscribe(data => {\n      this.all = data.terms;\n    });\n    this.getAnswerID();\n    this.searchTerm = decodeURIComponent(this.answerID);\n    this.terms = this.all.terms;\n    this.arguments = this.all.arguments;\n    this.searchFilter('all');\n    console.log(decodeURIComponent(this.answerID));\n    //urldec\n    console.log(arguments);\n  }\n  pushCurrent(current, type) {\n    this.current = current;\n    this.current.type = type;\n    this.searchResults.push(this.current);\n  }\n  searchInDictionary() {\n    for (let i in this.terms) {\n      if (this.terms[i].title.includes(this.searchTerm) || this.terms[i].definition.includes(this.searchTerm)) {\n        this.pushCurrent(this.terms[i], 'terms');\n      }\n    }\n  }\n  searchInArguments() {\n    for (var i in this.arguments) {\n      if (this.arguments[i].title.includes(this.searchTerm)) {\n        this.pushCurrent(this.arguments[i], 'arguments');\n      } else {\n        for (var j in this.arguments[i].answers) {\n          if (this.arguments[i].answers[j].full.includes(this.searchTerm)) {\n            this.pushCurrent(this.arguments[i], 'arguments');\n          }\n        }\n      }\n    }\n  }\n  searchFilter(filterOption) {\n    this.searchResults = [];\n    switch (filterOption) {\n      case 'all':\n        {\n          this.searchInDictionary();\n          this.searchInArguments();\n          break;\n        }\n      case 'dictionary':\n        {\n          this.searchInDictionary();\n          break;\n        }\n      case 'arguments':\n        {\n          this.searchInArguments();\n          break;\n        }\n    }\n  }\n  getAnswerID() {\n    let url = this.router.url;\n    let splits = url.split(\"/\");\n    this.answerID = splits[splits.length - 1];\n  }\n};\nSearchComponent = __decorate([Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})], SearchComponent);\nexport { SearchComponent };","map":{"version":3,"names":["Component","ViewEncapsulation","SearchComponent","constructor","router","activatedRoute","ngOnInit","window","scrollTo","data","subscribe","all","terms","getAnswerID","searchTerm","decodeURIComponent","answerID","arguments","searchFilter","console","log","pushCurrent","current","type","searchResults","push","searchInDictionary","i","title","includes","definition","searchInArguments","j","answers","full","filterOption","url","splits","split","length","__decorate","selector","templateUrl","styleUrls","encapsulation","None"],"sources":["/Users/librogil/Dropbox/CS/Apps/TACHELES/tacheles/front/src/app/pages/user-pages/search/search.component.ts"],"sourcesContent":["import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { All } from 'src/app/models/all.model';\nimport { Argument } from 'src/app/models/argument.model';\nimport { Term } from 'src/app/models/term.model';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\n\nexport class SearchComponent implements OnInit {\n\n  answerID: string;\n  current: any;\n  arguments: Argument[];\n  terms: Term[];\n  all: All;\n  searchTerm: string;\n  searchResults: any[];\n\n  constructor(private router: Router, private activatedRoute: ActivatedRoute) { }\n  \n  ngOnInit() {\n    window.scrollTo(0, 0);\n    /*\n    this.activatedRoute.params.subscribe((params: Params) => {\n      //this.searchTerm = params.searchTerm;\n      //console.log(params);\n    });\n    */\n    this.activatedRoute.data.subscribe((data: { terms: All }) => {\n      this.all = data.terms;\n    });\n\n    this.getAnswerID();\n    this.searchTerm = decodeURIComponent(this.answerID);\n    this.terms = this.all.terms;\n    this.arguments = this.all.arguments;\n    this.searchFilter('all');\n    \n    console.log(decodeURIComponent(this.answerID));\n    //urldec\n    \n    console.log(arguments);\n  }\n\n  pushCurrent(current: any, type: string) {\n    this.current = current;\n    this.current.type = type;\n    this.searchResults.push(this.current);\n  }\n\n  searchInDictionary() {\n    for (let i in this.terms) {    \n      if (this.terms[i].title.includes(this.searchTerm) || this.terms[i].definition.includes(this.searchTerm)) {\n        this.pushCurrent(this.terms[i], 'terms');\n      }\n    }\n  }\n\n  searchInArguments() {\n    for (var i in this.arguments) {\n      if (this.arguments[i].title.includes(this.searchTerm)) { \n        this.pushCurrent(this.arguments[i], 'arguments');\n      }\n      else {\n        for (var j in this.arguments[i].answers) {\n          if (this.arguments[i].answers[j].full.includes(this.searchTerm)) { \n            this.pushCurrent(this.arguments[i], 'arguments');\n          }\n        }\n      }\n    }\n  }\n  \n  searchFilter(filterOption: string) {\n    this.searchResults = [];\n    switch(filterOption) {\n      case 'all': {\n        this.searchInDictionary();\n        this.searchInArguments();\n        break;\n      }\n      case 'dictionary': {\n        this.searchInDictionary();\n        break;\n      }\n      case 'arguments': {\n        this.searchInArguments();\n        break;\n      }   \n    }\n  }\n\n  getAnswerID() {\n    let url = this.router.url;\n    let splits = url.split(\"/\");\n    this.answerID = splits[splits.length - 1];\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}