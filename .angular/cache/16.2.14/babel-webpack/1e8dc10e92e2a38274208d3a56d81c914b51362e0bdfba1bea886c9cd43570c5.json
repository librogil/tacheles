{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { AUTO_STYLE, animate, state, style, transition, trigger } from '@angular/animations';\nlet DictionaryComponent = class DictionaryComponent {\n  constructor(activatedRoute, windowDetector) {\n    this.activatedRoute = activatedRoute;\n    this.windowDetector = windowDetector;\n  }\n  ngOnInit() {\n    this.activatedRoute.data.subscribe(data => {\n      this.terms = data.terms;\n    });\n    window.onbeforeunload = function () {\n      window.scrollTo(0, 0);\n    };\n    this.minimumHeight = this.windowDetector.getMinimumHeight();\n    this.isMobile = this.windowDetector.isMobile();\n    this.termsInLettersInitialisation();\n    this.termDefinitionStatusInitialisation();\n  }\n  termDefinitionStatusInitialisation() {\n    this.termDefinitionStatus = [[]];\n    for (let i = 0; i < this.termsInLetters.length; i++) {\n      this.termDefinitionStatus[i] = [];\n      for (let j = 0; j < this.termsInLetters[i].length; j++) {\n        this.termDefinitionStatus[i][j] = true;\n      }\n    }\n  }\n  termsInLettersInitialisation() {\n    this.letters = [];\n    this.termsInLetters = [[]];\n    var x = -1;\n    for (var i in this.terms) {\n      if (!this.letters.includes(this.terms[i].title[0])) {\n        x++;\n        this.termsInLetters[x] = [];\n        this.letters.push(this.terms[i].title[0]);\n        this.termsInLetters[x].push(this.terms[i]);\n      } else {\n        this.termsInLetters[x].push(this.terms[i]);\n      }\n    }\n  }\n  toggle(i, j) {\n    this.termDefinitionStatus[i][j] = !this.termDefinitionStatus[i][j];\n  }\n  copy(i, j) {\n    navigator.clipboard.writeText(this.termsInLetters[i][j].definition);\n  }\n};\nDictionaryComponent = __decorate([Component({\n  selector: 'app-dictionary',\n  templateUrl: './dictionary.component.html',\n  styleUrls: ['./dictionary.component.scss'],\n  animations: [trigger('dropdown', [state('false', style({\n    height: AUTO_STYLE,\n    visibility: AUTO_STYLE\n  })), state('true', style({\n    height: '0',\n    visibility: 'hidden'\n  })), transition('false => true', animate(10 + 'ms ease-in')), transition('true => false', animate(10 + 'ms ease-out'))])]\n})], DictionaryComponent);\nexport { DictionaryComponent };","map":{"version":3,"names":["Component","AUTO_STYLE","animate","state","style","transition","trigger","DictionaryComponent","constructor","activatedRoute","windowDetector","ngOnInit","data","subscribe","terms","window","onbeforeunload","scrollTo","minimumHeight","getMinimumHeight","isMobile","termsInLettersInitialisation","termDefinitionStatusInitialisation","termDefinitionStatus","i","termsInLetters","length","j","letters","x","includes","title","push","toggle","copy","navigator","clipboard","writeText","definition","__decorate","selector","templateUrl","styleUrls","animations","height","visibility"],"sources":["/Users/librogil/Dropbox/CS/Apps/TACHELES/tacheles/front/src/app/pages/user-pages/dictionary/dictionary.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AUTO_STYLE, animate, state, style, transition, trigger } from '@angular/animations';\nimport { Term } from 'src/app/models/term.model';\nimport { ActivatedRoute } from '@angular/router';\nimport { WindowDetectorService } from 'src/app/window-detector.service';\n\n@Component({\n  selector: 'app-dictionary',\n  templateUrl: './dictionary.component.html',\n  styleUrls: ['./dictionary.component.scss'],\n  animations: [\n    trigger('dropdown', [\n      state('false', style({ height: AUTO_STYLE, visibility: AUTO_STYLE })),\n      state('true', style({ height: '0', visibility: 'hidden' })),\n      transition('false => true', animate(10 + 'ms ease-in')),\n      transition('true => false', animate(10 + 'ms ease-out'))\n    ])\n  ]\n})\n\nexport class DictionaryComponent implements OnInit {\n  terms: Term[];\n  termDefinitionStatus: boolean[][]; // TRUE if the term's definition is closed/invisible; FALSE if it's open/visible\n  isMobile: boolean;\n  letters: string[];\n  termsInLetters: any[][];\n  minimumHeight: string;\n\n  constructor(private activatedRoute: ActivatedRoute, private windowDetector: WindowDetectorService) { }\n\n  ngOnInit() {\n    this.activatedRoute.data.subscribe((data: { terms: Term[] }) => {\n      this.terms = data.terms;\n    })\n    window.onbeforeunload = function() {window.scrollTo(0,0);}\n    this.minimumHeight = this.windowDetector.getMinimumHeight();\n    this.isMobile = this.windowDetector.isMobile();\n    this.termsInLettersInitialisation();\n    this.termDefinitionStatusInitialisation();\n  }\n\n  termDefinitionStatusInitialisation() {\n    this.termDefinitionStatus = [[]];\n    for (let i = 0; i < this.termsInLetters.length; i++) {\n      this.termDefinitionStatus[i] = [];\n      for (let j = 0; j < this.termsInLetters[i].length; j ++) {\n        this.termDefinitionStatus[i][j] = true;\n      }\n    }\n  }\n\n  termsInLettersInitialisation() {\n    this.letters = [];\n    this.termsInLetters = [[]];\n    var x = -1;\n    for (var i in this.terms) {\n      if (!this.letters.includes(this.terms[i].title[0])) {\n        x++;\n        this.termsInLetters[x] = [];\n        this.letters.push(this.terms[i].title[0]);\n        this.termsInLetters[x].push(this.terms[i]);\n      } \n      else {\n        this.termsInLetters[x].push(this.terms[i]);\n      }\n    }\n  }\n\n  toggle(i: number, j: number) {\n    this.termDefinitionStatus[i][j] = !this.termDefinitionStatus[i][j];\n  }\n\n  copy(i: number, j: number) {\n    navigator.clipboard.writeText(this.termsInLetters[i][j].definition);\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}