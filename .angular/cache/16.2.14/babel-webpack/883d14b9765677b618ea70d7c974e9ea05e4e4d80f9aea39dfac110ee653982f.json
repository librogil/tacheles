{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../parts/topper/topper.component\";\nconst _c0 = function (a1, a2) {\n  return [\"/\", a1, a2];\n};\nfunction SearchComponent_a_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 9)(1, \"div\", 10)(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const result_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(2, _c0, result_r1.type, result_r1._id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(result_r1.title);\n  }\n}\nclass SearchComponent {\n  constructor(activatedRoute) {\n    this.activatedRoute = activatedRoute;\n  }\n  ngOnInit() {\n    window.scrollTo(0, 0);\n    /*\n    this.activatedRoute.params.subscribe((params: Params) => {\n      //this.searchTerm = params.searchTerm;\n      //console.log(params);\n    });\n    */\n    this.activatedRoute.data.subscribe(data => {\n      this.all = data.terms;\n    });\n    this.terms = this.all.terms;\n    this.arguments = this.all.arguments;\n    this.searchFilter('all');\n  }\n  pushCurrent(current, type) {\n    this.current = current;\n    this.current.type = type;\n    this.searchResults.push(this.current);\n  }\n  searchInDictionary() {\n    for (let i in this.terms) {\n      if (this.terms[i].title.includes(this.searchTerm) || this.terms[i].definition.includes(this.searchTerm)) {\n        this.pushCurrent(this.terms[i], 'terms');\n      }\n    }\n  }\n  searchInArguments() {\n    for (var i in this.arguments) {\n      if (this.arguments[i].title.includes(this.searchTerm)) {\n        this.pushCurrent(this.arguments[i], 'arguments');\n      } else {\n        for (var j in this.arguments[i].answers) {\n          if (this.arguments[i].answers[j].full.includes(this.searchTerm)) {\n            this.pushCurrent(this.arguments[i], 'arguments');\n          }\n        }\n      }\n    }\n  }\n  searchFilter(filterOption) {\n    this.searchResults = [];\n    switch (filterOption) {\n      case 'all':\n        {\n          this.searchInDictionary();\n          this.searchInArguments();\n          break;\n        }\n      case 'dictionary':\n        {\n          this.searchInDictionary();\n          break;\n        }\n      case 'arguments':\n        {\n          this.searchInArguments();\n          break;\n        }\n    }\n  }\n  static #_ = this.ɵfac = function SearchComponent_Factory(t) {\n    return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchComponent,\n    selectors: [[\"app-search\"]],\n    decls: 27,\n    vars: 2,\n    consts: [[\"dir\", \"rtl\"], [1, \"wrapper\"], [1, \"right-sidebar\"], [1, \"searchTerm\"], [1, \"solid\"], [1, \"search-button\", 3, \"click\"], [1, \"main-div\"], [3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [1, \"left-sidebar\"], [3, \"routerLink\"], [1, \"search-result-box\"]],\n    template: function SearchComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0);\n        i0.ɵɵelement(1, \"head\");\n        i0.ɵɵelementStart(2, \"body\");\n        i0.ɵɵelement(3, \"app-topper\");\n        i0.ɵɵelementStart(4, \"div\", 1)(5, \"div\", 2)(6, \"p\");\n        i0.ɵɵtext(7, \"\\u05EA\\u05D5\\u05E6\\u05D0\\u05D5\\u05EA \\u05D4\\u05D7\\u05D9\\u05E4\\u05D5\\u05E9 \\u05E2\\u05D1\\u05D5\\u05E8:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"p\", 3);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"br\")(11, \"hr\", 4)(12, \"br\");\n        i0.ɵɵelementStart(13, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function SearchComponent_Template_button_click_13_listener() {\n          return ctx.searchFilter(\"all\");\n        });\n        i0.ɵɵtext(14, \"\\u05D7\\u05E4\\u05E9\\u05D5 \\u05D1\\u05D4\\u05DB\\u05DC\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"br\");\n        i0.ɵɵelementStart(16, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function SearchComponent_Template_button_click_16_listener() {\n          return ctx.searchFilter(\"arguments\");\n        });\n        i0.ɵɵtext(17, \" \\u05D7\\u05E4\\u05E9\\u05D5 \\u05E8\\u05E7 \\u05D1\\u05D8\\u05D9\\u05E2\\u05D5\\u05E0\\u05D9\\u05DD \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"br\");\n        i0.ɵɵelementStart(19, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function SearchComponent_Template_button_click_19_listener() {\n          return ctx.searchFilter(\"dictionary\");\n        });\n        i0.ɵɵtext(20, \" \\u05D7\\u05E4\\u05E9\\u05D5 \\u05E8\\u05E7 \\u05D1\\u05DE\\u05D9\\u05DC\\u05D5\\u05DF\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"br\")(22, \"br\")(23, \"hr\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 6);\n        i0.ɵɵtemplate(25, SearchComponent_a_25_Template, 4, 5, \"a\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"div\", 8);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate(ctx.searchTerm);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.searchResults);\n      }\n    },\n    dependencies: [i2.NgForOf, i1.RouterLink, i3.TopperComponent],\n    styles: [\".right-sidebar, .left-sidebar {\\n  margin-top: 40px;\\n  text-align: right;\\n  padding: 0px 30px 0px 30px;\\n}\\n\\n.new-search {\\n  display: inline-block;\\n}\\n\\n.search-button {\\n  text-align: right;\\n  max-width: 200px;\\n  min-width: 200px;\\n  padding: 10px 10px;\\n  font-size: 18px;\\n  margin-bottom: 4px;\\n  margin-top: 4px;\\n  font: lighter;\\n}\\n\\nhr {\\n  margin-top: 0px;\\n  margin-bottom: 0px;\\n}\\n\\n.searchTerm {\\n  font-size: 24px;\\n  font-weight: bold;\\n}\\n\\n.thing-box {\\n  cursor: pointer;\\n}\\n\\n.thing-box:hover {\\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvdXNlci1wYWdlcy9zZWFyY2gvc2VhcmNoLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLDBCQUFBO0FBSEY7O0FBTUE7RUFDRSxxQkFBQTtBQUhGOztBQU1BO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtBQUhGOztBQU1BO0VBQ0UsZUFBQTtFQUNBLGtCQUFBO0FBSEY7O0FBTUE7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7QUFIRjs7QUFTQTtFQUNJLGVBQUE7QUFOSjs7QUFTQTtFQUNJLDBDQUFBO0FBTkoiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBvcmRlcjogdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XG5cbi8vIFNJREVCQVJTIEFORCBUSEVJUiBFTEVNRU5UU1xuXG4ucmlnaHQtc2lkZWJhciwgLmxlZnQtc2lkZWJhciB7XG4gIG1hcmdpbi10b3A6IDQwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0OyAgICBcbiAgcGFkZGluZzogMHB4IDMwcHggMHB4IDMwcHg7XG59XG4gXG4ubmV3LXNlYXJjaCB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLnNlYXJjaC1idXR0b24ge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgbWF4LXdpZHRoOiAyMDBweDtcbiAgbWluLXdpZHRoOiAyMDBweDtcbiAgcGFkZGluZzogMTBweCAxMHB4O1xuICBmb250LXNpemU6IDE4cHg7XG4gIG1hcmdpbi1ib3R0b206IDRweDtcbiAgbWFyZ2luLXRvcDogNHB4O1xuICBmb250OiBsaWdodGVyO1xufVxuXG5ociB7XG4gIG1hcmdpbi10b3A6IDBweDtcbiAgbWFyZ2luLWJvdHRvbTogMHB4O1xufVxuXG4uc2VhcmNoVGVybSB7XG4gIGZvbnQtc2l6ZTogMjRweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG5cbn1cblxuLy8gTUFJTi1ESVYgQU5EIElUUyBFTEVNRU5UU1xuXG4udGhpbmctYm94IHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG4gIFxuLnRoaW5nLWJveDpob3ZlciB7XG4gICAgYm94LXNoYWRvdzogMCAwIDExcHggIHJnYmEoMzMsMzMsMzMsLjIpOyBcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"],\n    encapsulation: 2\n  });\n}\nexport { SearchComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction2","_c0","result_r1","type","_id","ɵɵadvance","ɵɵtextInterpolate","title","SearchComponent","constructor","activatedRoute","ngOnInit","window","scrollTo","data","subscribe","all","terms","arguments","searchFilter","pushCurrent","current","searchResults","push","searchInDictionary","i","includes","searchTerm","definition","searchInArguments","j","answers","full","filterOption","_","ɵɵdirectiveInject","i1","ActivatedRoute","_2","selectors","decls","vars","consts","template","SearchComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","SearchComponent_Template_button_click_13_listener","SearchComponent_Template_button_click_16_listener","SearchComponent_Template_button_click_19_listener","ɵɵtemplate","SearchComponent_a_25_Template"],"sources":["/Users/librogil/Dropbox/CS/Apps/TACHELES/tacheles/front/src/app/pages/user-pages/search/search.component.ts","/Users/librogil/Dropbox/CS/Apps/TACHELES/tacheles/front/src/app/pages/user-pages/search/search.component.html"],"sourcesContent":["import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { All } from 'src/app/models/all.model';\nimport { Argument } from 'src/app/models/argument.model';\nimport { Term } from 'src/app/models/term.model';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\n\nexport class SearchComponent implements OnInit {\n\n  current: any;\n  arguments: Argument[];\n  terms: Term[];\n  all: All;\n  searchTerm: string;\n  searchResults: any[];\n\n  constructor(private activatedRoute: ActivatedRoute) { }\n  \n  ngOnInit() {\n    window.scrollTo(0, 0);\n    /*\n    this.activatedRoute.params.subscribe((params: Params) => {\n      //this.searchTerm = params.searchTerm;\n      //console.log(params);\n    });\n    */\n    this.activatedRoute.data.subscribe((data: { terms: All }) => {\n      this.all = data.terms;\n    });\n    this.terms = this.all.terms;\n    this.arguments = this.all.arguments;\n    this.searchFilter('all');\n  }\n\n  pushCurrent(current: any, type: string) {\n    this.current = current;\n    this.current.type = type;\n    this.searchResults.push(this.current);\n  }\n\n  searchInDictionary() {\n    for (let i in this.terms) {    \n      if (this.terms[i].title.includes(this.searchTerm) || this.terms[i].definition.includes(this.searchTerm)) {\n        this.pushCurrent(this.terms[i], 'terms');\n      }\n    }\n  }\n\n  searchInArguments() {\n    for (var i in this.arguments) {\n      if (this.arguments[i].title.includes(this.searchTerm)) { \n        this.pushCurrent(this.arguments[i], 'arguments');\n      }\n      else {\n        for (var j in this.arguments[i].answers) {\n          if (this.arguments[i].answers[j].full.includes(this.searchTerm)) { \n            this.pushCurrent(this.arguments[i], 'arguments');\n          }\n        }\n      }\n    }\n  }\n  \n  searchFilter(filterOption: string) {\n    this.searchResults = [];\n    switch(filterOption) {\n      case 'all': {\n        this.searchInDictionary();\n        this.searchInArguments();\n        break;\n      }\n      case 'dictionary': {\n        this.searchInDictionary();\n        break;\n      }\n      case 'arguments': {\n        this.searchInArguments();\n        break;\n      }   \n    }\n  }\n}","<!DOCTYPE html>\n<html dir=\"rtl\">\n  <head>\n  </head>\n  <body>\n    <app-topper></app-topper>\n    <div class=\"wrapper\">\n      <div class=\"right-sidebar\">\n        <p>תוצאות החיפוש עבור:</p>\n        <p class=\"searchTerm\">{{searchTerm}}</p>\n        <br>\n        <hr class=\"solid\">\n        <br>\n        <button class=\"search-button\" (click)=\"searchFilter('all')\">חפשו בהכל</button>\n        <br>\n        <button class=\"search-button\" (click)=\"searchFilter('arguments')\">\n        חפשו רק בטיעונים  \n        </button>\n        <br>\n        <button class=\"search-button\" (click)=\"searchFilter('dictionary')\">\n          חפשו רק במילון</button>  \n        <br>\n        <br>\n        <hr class=\"solid\">\n      </div>\n      <div class=\"main-div\">\n        <a *ngFor=\"let result of searchResults\" [routerLink]=\"['/', result.type, result._id]\">\n          <div class=\"search-result-box\">\n            <p>{{ result.title }}</p>\n          </div>\n        </a>\n      </div>\n      <div class=\"left-sidebar\">\n      </div>\n    </div>\n  </body>\n</html>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}